# Day 1

## The Overview

[See "The Course"](https://typescript.hypertheory.com/course/)

## Application Development

The focus of this course is for developers building applications with Angular using the TypeScript programming language.

While this will set a foundation for other types of development (building shared libraries, tools, etc.) the coding and testing techniques in those spheres will vary from what is being shown here.

The big differentiator between application development and library or tool development is that applications are _specific_. A library is more _generic_.

By _specific_ what is meant is that when you are _done_, you can reasonably verify your code works by running the application and poking at it. This also means you can automate the "running and poking at it" part by using testing tools like Playwright or Cypress to check for regressions.

### Key Points - Application Development

- Prefer inferred typing over explicit typing
- Prefer flexibility over "correctness"
- Make invalid states impossible by:
  - Good UI/UX Design
  - Form Validation
- Emphasize "System Testing" over "Unit Testing" or "Integrated Unit Tests"
- Code "locally" to minimize _blast radius_.

## Infrastructure

Angular applications are _compiled_ to static files that are served using an HTTP request.

> Note: While you can do _server-side generation_ with Angular, we won't emphasize that here, and really doesn't make that much difference in how we use TypeScript.

Web browsers only understand HTML, JavaScript, and CSS. And they don't understand these thing _uniformly_. Different versions of browsers have different levels of support for various _standards_.

### TypeScript Compilation/Transpilation

Our TypeScript source code files, the code from the libraries and the Angular framework we use, must be converted to JavaScript before being sent to the browser. This process is sometimes called _transpilation_.

Angular takes care of this for us, both in the development using Vite and Esbuild/Rollup, and for our production builds of our application.

The "Production" build (`ng build`) has a further requirement - the code should be _optimized_. Since our application must be transferred across HTTP before it can be executed in the user's browser, a goal of the production build is to create the smallest sized "bundle" of code to run in the browser.

This is accomplished with many techniques, including:

- "Tree Shaking" - the process or removing code that we aren't using.
- Bundling - taking the various TypeScript and JavaScript code modules we are using and combining them into a single file for easier transfer over the network.
- Renaming - as developers we like names for classes, functions, variables that express intent, every byte counts. A variable named something like `AbstractFormFactoryInstance` might be renamed to `m3`.

> Note: There is a competing challenge here. Most of our Angular application is going to be presented to the browser as JavaScript. We want to minify the size of that file to facilitate easier and faster transfer, however if the file gets too big, even if it transfers relatively quickly, it must be _interpreted_ and executed before the application is usable in the browser. Therefore we try to keep each individual bundle as small as possible (usually <5mb uncompressed), and break our application into other bundles that can be downloaded separately (either lazily, or eagerly).

See more about [TypeScript compiler options and configuration](https://typescript.hypertheory.com/course/infrastructure/compiler/#typescript-compiler-configuration)

### CSS Processors

Some Angular applications use alternative syntax for CSS, like LESS or SASS. Browsers don't understand these so these, too must be converted to CSS before being sent to the browser.

Even if you aren't using a CSS pre-processor language, and just using "regular CSS", you may be using CSS libraries (like Tailwind). These libraries are _huge_, so Angular will also "tree shake" and minimize these. It also does a good job of _inlining_ the CSS needed to avoid layout shift on page load into the the `index.html` file.

### HTML and Angular Templates

With Angular applications, there is very little HTML. Usually just the `index.html` that is the _entry point_ for your application.

Angular templates (either _inline_ or linked) are _not_ HTML, strictly. They are a superset of HTML that is "Angular aware". These are compiled into TypeScript and made a part of our application before being sent to the browser. A special compiler for these, from the Angular team, called `ngc` is responsible for this portion of the build pipeline.

### Development Time vs. Production Time

During development, Angular now uses a development web server called [Vite](https://vite.dev/).

Vite is _fast_. It's primary reason for existing is that in larger applications, the development experience can get really painful. Every code change requiring new compilation, bundling, and a refresh in the browser.

During development, Vite does things a little differently than what we used to do with WebPack and other tools:

- Relies on native [ES Modules](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules) over the bundling approach.
- Allows for "Hot Module Replacement" - which means it can more optimally allow small changes not to require recompilation for the entire application.

The _take away_ from this is that during development time (e.g. `http://localhost:4200`) we get a much snappier, better experience for the kind of "tweaking" that makes up a majority of frontend development. **But we are not actually looking at the same code that will be running on the user's browser**.

> Note: Instructor will demonstrate ES Modules and talk about why we still need bundling.

### Linting

Linting is the process of analyzing your code for potential errors, coding standards, and best practices. A linter is a tool that performs this analysis and provides feedback on your code.

There are several tools for doing linting in JavaScript/TypeScript, and Angular, but by far the most common is [EsLint](https://eslint.org/)

To set up ES Lint in your Angular Project, See [Setting up ESLint in an Angular Project](https://typescript.hypertheory.com/course/infrastructure/linting/#setting-up-eslint-in-an-angular-project)

## TypeScript

### Some History

Notes:

- When TypeScript was introduced there was a wider differential between JavaScript and TypeScript. TypeScript does not have "types", but even things likes classes didn't exist commonly in browsers at the time.
- Over time, that differential has narrowed.
- Some JavaScript runtimes profess that they can run "TypeScript Natively", but that is most often just a process of "type stripping".

### TypeScript _Is_ JavaScript

TypeScript isn't really a language like we usually think of programming languages. It doesn't have variables, can't make decisions, or do loops, for example. It _borrows_ these concepts from JavaScript, or more accurately, assumes JavaScript in it's compilation (again, you can't _run_ TypeScript code).

Learning TypeScript is largely learning JavaScript.
